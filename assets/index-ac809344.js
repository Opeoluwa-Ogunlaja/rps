var f=Object.defineProperty;var g=(s,e,t)=>e in s?f(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var r=(s,e,t)=>(g(s,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();class l{constructor(e,t=[]){r(this,"enable",()=>{this.disabled=!1});r(this,"disable",()=>{this.disabled=!0});r(this,"reset",()=>{});r(this,"render",()=>{const e=document.createElement("div");return e.classList.add("tile"),e.appendChild(this.element),this.element.onclick=()=>{this.disabled||this.game.choose(this.name)},e});r(this,"beats",e=>e==this.name?"draw":this.beatsArray.includes(e));this.name=e,this.beatsArray=t,this.element=document.createElement("button"),this.element.classList.add(e),this.element.innerHTML=`<img src="images/icon-${this.name}.svg" alt="${this.name} Icon">`,this.game=null,this.disabled=!1}}const u=(s,e)=>localStorage.getItem(s)==null?typeof e=="function"?(localStorage.setItem(s,JSON.stringify(e())),e()):(localStorage.setItem(s,JSON.stringify(e)),e):JSON.parse(localStorage.getItem(s)),p=(s,e)=>{const t=u(s,null);let o;typeof e=="function"?(o=e(t),localStorage.setItem(s,JSON.stringify(o))):localStorage.setItem(s,JSON.stringify(e));const n=new CustomEvent("localstorage",{detail:typeof e=="function"?o:e});return window.dispatchEvent(n),typeof e=="function"?o:e},h=s=>{document.querySelectorAll(".tab").forEach(e=>{e.classList.remove("active")}),document.querySelectorAll(".tab")[s-1].classList.add("active")};class y{constructor({container:e,result_statement:t,results_con:o,comChoiceCon:n,p1ChoiceCon:i},c){r(this,"getTile",e=>this.elements.find(t=>t.name==e));r(this,"enableAll",()=>this.elements.forEach(e=>e.enable()));r(this,"disableAll",()=>this.elements.forEach(e=>e.disable()));r(this,"showMessage",e=>{let t=this.results_con,o=this.result_statement;o.innerText=e,t.classList.remove("visually-hidden")});r(this,"evaluate",()=>{switch(this.getTile(this.choice).beats(this.computerChoice)){case"draw":this.showMessage("It's a draw");break;case!0:p("score",e=>e+1),this.p1ChoiceCon.classList.add("winner"),this.showMessage("You win");break;case!1:this.comChoiceCon.classList.add("winner"),this.showMessage("You Lose");break}});r(this,"AIPlay",()=>{const e=Math.floor(Math.random()*this.elements.length),t=this.elements[e];this.computerChoice=t.name;const o=()=>{this.comChoiceCon.insertAdjacentElement("afterbegin",t.render().cloneNode(!0))};setTimeout(()=>{this.choice!=null&&(o(),setTimeout(this.evaluate,500))},2500)});r(this,"choose",e=>{this.choice=e;const t=this.getTile(e).element.innerHTML;this.p1ChoiceCon.innerHTML=`<div class="tile"><button class="${this.choice}">`+t+"</button></div>",setTimeout(()=>h(2),300),this.disableAll(),this.AIPlay()});r(this,"init",()=>{h(1),this.choice=null,this.computerChoice=null,this.comChoiceCon.innerHTML="",this.p1ChoiceCon.innerHTML="",this.p1ChoiceCon.classList.remove("winner"),this.comChoiceCon.classList.remove("winner"),this.results_con.className="visually-hidden result",this.enableAll(),this.renderElements()});r(this,"renderElements",()=>{let e=this.elements.map(t=>t.render(this.gameArea));this.gameArea.innerHTML="",e.forEach((t,o)=>{this.elements[o].reset(),this.gameArea.appendChild(t)}),h(1)});this.elements=c,this.result_statement=t,this.results_con=o,this.comChoiceCon=n,this.p1ChoiceCon=i,this.elements.forEach(m=>m.game=this),this.gameArea=e,this.choice=null,this.computerChoice=null}}function a(s,e,t,o=!0){const n=i=>e(i);if(t==null||t==null)if(o==!0)window.addEventListener(s,n);else return;else t!=null&&t.addEventListener(s,n)}const C=new l("lizard",["paper","spock"]),b=new l("spock",["scissors","rock"]),w=new l("rock",["lizard","scissors"]),L=new l("paper",["rock","spock"]),E=new l("scissors",["paper","lizard"]),S=[E,b,L,C,w],I=document.querySelector(".tiles_container"),d=new y({container:I,results_con:document.getElementById("eval-con"),result_statement:document.getElementById("result"),comChoiceCon:document.getElementById("com_choice"),p1ChoiceCon:document.getElementById("player_choice")},S);window.onload=function(){d.init();const s=document.getElementById("score");s.innerText=u("score",0),a("localstorage",e=>{typeof e.detail=="number"&&(s.innerText=e.detail)},window),a("click",()=>{document.querySelector("dialog").showModal()},document.getElementById("rules-modal-toggler")),a("click",()=>{document.querySelector("dialog").close()},document.querySelector(".modal-close-btn")),a("click",()=>{d.init()},document.getElementById("play_again_btn"))};
